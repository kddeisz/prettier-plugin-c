#!/usr/bin/env node

const fs = require("fs");
const parser = require("../src/parser/parser");

let code;

if (!process.argv[2]) {
  code = fs.readFileSync("test.c", "utf-8");
} else if (fs.existsSync(process.argv[2])) {
  code = fs.readFileSync(process.argv[2], "utf-8");
} else {
  code = process.argv.slice(2).join(" ").replace(/\\n/g, "\n");
}

console.log(JSON.stringify(parser.parse(code), null, 2));
